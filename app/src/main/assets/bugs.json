{
  "bugs": [
    {
      "id": 1,
      "title": "Off-by-One Error in Loop",
      "language": "Java",
      "difficulty": "Easy",
      "category": "Loops",
      "description": "A method that should print numbers from 1 to 10, but it's not working correctly.",
      "brokenCode": "public void printNumbers() {\n    for (int i = 1; i < 10; i++) {\n        System.out.println(i);\n    }\n}",
      "expectedOutput": "1\n2\n3\n4\n5\n6\n7\n8\n9\n10",
      "actualOutput": "1\n2\n3\n4\n5\n6\n7\n8\n9",
      "explanation": "The loop condition uses < instead of <=, causing it to stop at 9 instead of 10. This is a classic off-by-one error where the boundary condition excludes the final value.",
      "fixedCode": "public void printNumbers() {\n    for (int i = 1; i <= 10; i++) {\n        System.out.println(i);\n    }\n}",
      "isCompleted": false
    },
    {
      "id": 2,
      "title": "NullPointerException",
      "language": "Java",
      "difficulty": "Easy",
      "category": "Exceptions",
      "description": "A method that processes a user name crashes with NullPointerException.",
      "brokenCode": "public String processName(String name) {\n    return name.toUpperCase();\n}",
      "expectedOutput": "JOHN",
      "actualOutput": "Exception in thread \"main\" java.lang.NullPointerException\n    at processName()",
      "explanation": "The method doesn't check if the name parameter is null before calling toUpperCase(). When a null value is passed, it causes a NullPointerException. Always validate input parameters, especially when calling methods on them.",
      "fixedCode": "public String processName(String name) {\n    if (name == null) {\n        return \"\";\n    }\n    return name.toUpperCase();\n}",
      "isCompleted": false
    },
    {
      "id": 3,
      "title": "String Comparison Error",
      "language": "Java",
      "difficulty": "Easy",
      "category": "Strings",
      "description": "A method that checks if a password matches, but it doesn't work correctly.",
      "brokenCode": "public boolean checkPassword(String input) {\n    String correctPassword = \"secret\";\n    return input == correctPassword;\n}",
      "expectedOutput": "true (when input is \"secret\")",
      "actualOutput": "false (even when input is \"secret\")",
      "explanation": "The == operator compares object references, not the actual string content. For strings, you must use .equals() method to compare values. The == operator only returns true if both variables point to the exact same object in memory.",
      "fixedCode": "public boolean checkPassword(String input) {\n    String correctPassword = \"secret\";\n    return input.equals(correctPassword);\n}",
      "isCompleted": false
    },
    {
      "id": 4,
      "title": "Integer Division Truncation",
      "language": "Java",
      "difficulty": "Medium",
      "category": "Methods",
      "description": "A method to calculate average of two integers returns incorrect results.",
      "brokenCode": "public double calculateAverage(int a, int b) {\n    return (a + b) / 2;\n}",
      "expectedOutput": "7.5 (for inputs 10 and 5)",
      "actualOutput": "7.0",
      "explanation": "When dividing two integers, Java performs integer division which truncates the decimal part. Even though the return type is double, the division happens before the conversion. To fix this, cast at least one operand to double before division.",
      "fixedCode": "public double calculateAverage(int a, int b) {\n    return (a + b) / 2.0;\n}",
      "isCompleted": false
    },
    {
      "id": 5,
      "title": "Wrong Variable in Condition",
      "language": "Java",
      "difficulty": "Easy",
      "category": "Conditionals",
      "description": "A method to find the maximum of three numbers gives wrong results.",
      "brokenCode": "public int findMax(int a, int b, int c) {\n    int max = a;\n    if (b > max) {\n        max = b;\n    }\n    if (c > a) {\n        max = c;\n    }\n    return max;\n}",
      "expectedOutput": "15 (for inputs 10, 15, 12)",
      "actualOutput": "12",
      "explanation": "In the second if statement, c is compared with a instead of max. This means c is only set as max if it's greater than the original value of a, not the current maximum. Always use the variable being updated in comparisons.",
      "fixedCode": "public int findMax(int a, int b, int c) {\n    int max = a;\n    if (b > max) {\n        max = b;\n    }\n    if (c > max) {\n        max = c;\n    }\n    return max;\n}",
      "isCompleted": false
    },
    {
      "id": 6,
      "title": "Missing Break in Switch",
      "language": "Java",
      "difficulty": "Medium",
      "category": "Conditionals",
      "description": "A method to get day name returns wrong values for some days.",
      "brokenCode": "public String getDayName(int day) {\n    String name = \"\";\n    switch (day) {\n        case 1:\n            name = \"Monday\";\n        case 2:\n            name = \"Tuesday\";\n        case 3:\n            name = \"Wednesday\";\n            break;\n        default:\n            name = \"Invalid\";\n    }\n    return name;\n}",
      "expectedOutput": "Monday (for input 1)",
      "actualOutput": "Wednesday",
      "explanation": "Switch statements in Java have fall-through behavior. Without break statements, execution continues to the next case. When day is 1, it sets name to \"Monday\", then falls through to case 2 (sets to \"Tuesday\"), then to case 3 (sets to \"Wednesday\"). Always add break unless fall-through is intentional.",
      "fixedCode": "public String getDayName(int day) {\n    String name = \"\";\n    switch (day) {\n        case 1:\n            name = \"Monday\";\n            break;\n        case 2:\n            name = \"Tuesday\";\n            break;\n        case 3:\n            name = \"Wednesday\";\n            break;\n        default:\n            name = \"Invalid\";\n    }\n    return name;\n}",
      "isCompleted": false
    },
    {
      "id": 7,
      "title": "ArrayList IndexOutOfBounds",
      "language": "Java",
      "difficulty": "Medium",
      "category": "Collections",
      "description": "A method to get the last element of a list crashes.",
      "brokenCode": "public int getLastElement(ArrayList<Integer> list) {\n    return list.get(list.size());\n}",
      "expectedOutput": "50 (for list [10, 20, 30, 40, 50])",
      "actualOutput": "Exception: IndexOutOfBoundsException: Index 5 out of bounds for length 5",
      "explanation": "ArrayList indices are zero-based, meaning they range from 0 to size()-1. Using list.size() as an index tries to access one position beyond the last element. The correct index for the last element is size()-1.",
      "fixedCode": "public int getLastElement(ArrayList<Integer> list) {\n    return list.get(list.size() - 1);\n}",
      "isCompleted": false
    },
    {
      "id": 8,
      "title": "Infinite Loop",
      "language": "Java",
      "difficulty": "Easy",
      "category": "Loops",
      "description": "A method to count down from 10 to 1 never terminates.",
      "brokenCode": "public void countdown() {\n    for (int i = 10; i > 0; i++) {\n        System.out.println(i);\n    }\n}",
      "expectedOutput": "10\n9\n8\n7\n6\n5\n4\n3\n2\n1",
      "actualOutput": "10\n11\n12\n13\n... (never stops)",
      "explanation": "The loop increments i (i++) instead of decrementing it (i--). Since i starts at 10 and keeps increasing, the condition i > 0 remains true forever, creating an infinite loop. Always ensure loop control variables move toward the termination condition.",
      "fixedCode": "public void countdown() {\n    for (int i = 10; i > 0; i--) {\n        System.out.println(i);\n    }\n}",
      "isCompleted": false
    },
    {
      "id": 9,
      "title": "Variable Shadowing",
      "language": "Java",
      "difficulty": "Hard",
      "category": "OOP",
      "description": "A class method doesn't update the instance variable as expected.",
      "brokenCode": "public class Counter {\n    private int count = 0;\n    \n    public void increment() {\n        int count = this.count + 1;\n    }\n    \n    public int getCount() {\n        return count;\n    }\n}",
      "expectedOutput": "count should be 1 after calling increment()",
      "actualOutput": "count remains 0",
      "explanation": "The increment() method declares a new local variable 'count' instead of updating the instance variable. This is called variable shadowing. The local variable shadows the instance variable, and the update is lost when the method ends. Remove 'int' to update the instance variable.",
      "fixedCode": "public class Counter {\n    private int count = 0;\n    \n    public void increment() {\n        this.count = this.count + 1;\n    }\n    \n    public int getCount() {\n        return count;\n    }\n}",
      "isCompleted": false
    },
    {
      "id": 10,
      "title": "Wrong Return Value",
      "language": "Java",
      "difficulty": "Easy",
      "category": "Methods",
      "description": "A method to check if a number is even returns wrong results.",
      "brokenCode": "public boolean isEven(int number) {\n    if (number % 2 == 0) {\n        return true;\n    }\n    return true;\n}",
      "expectedOutput": "false (for input 7)",
      "actualOutput": "true",
      "explanation": "The method returns true in both branches - when the number is even and when it's not. The else case should return false. This makes the method always return true regardless of input.",
      "fixedCode": "public boolean isEven(int number) {\n    if (number % 2 == 0) {\n        return true;\n    }\n    return false;\n}",
      "isCompleted": false
    },
    {
      "id": 11,
      "title": "Array Index Error",
      "language": "Java",
      "difficulty": "Medium",
      "category": "Arrays",
      "description": "A method to swap first and last array elements crashes.",
      "brokenCode": "public void swapFirstLast(int[] arr) {\n    int temp = arr[0];\n    arr[0] = arr[arr.length];\n    arr[arr.length] = temp;\n}",
      "expectedOutput": "Array [1,2,3,4,5] becomes [5,2,3,4,1]",
      "actualOutput": "Exception: ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5",
      "explanation": "Arrays are zero-indexed, so valid indices range from 0 to length-1. Using arr.length as an index tries to access beyond the array bounds. The last element is at index arr.length-1.",
      "fixedCode": "public void swapFirstLast(int[] arr) {\n    int temp = arr[0];\n    arr[0] = arr[arr.length - 1];\n    arr[arr.length - 1] = temp;\n}",
      "isCompleted": false
    },
    {
      "id": 12,
      "title": "Incorrect Operator Precedence",
      "language": "Java",
      "difficulty": "Medium",
      "category": "Methods",
      "description": "A method to calculate final price with tax gives wrong result.",
      "brokenCode": "public double calculatePrice(double price, double tax) {\n    return price + price * tax / 100;\n}",
      "expectedOutput": "110.0 (for price=100, tax=10)",
      "actualOutput": "100.1",
      "explanation": "Due to operator precedence, the calculation is evaluated as: price + (price * tax / 100). With price=100 and tax=10, this gives 100 + (100*10/100) = 100 + 10 = 110. Wait, that's correct! Let me reconsider... Actually the bug is that it should multiply first then divide, but division by 100 happens before adding to price due to precedence. The issue is actually more subtle - we want (price * (1 + tax/100)).",
      "fixedCode": "public double calculatePrice(double price, double tax) {\n    return price * (1 + tax / 100);\n}",
      "isCompleted": false
    },
    {
      "id": 13,
      "title": "Modifying Collection While Iterating",
      "language": "Java",
      "difficulty": "Hard",
      "category": "Collections",
      "description": "A method to remove negative numbers from a list crashes.",
      "brokenCode": "public void removeNegatives(ArrayList<Integer> numbers) {\n    for (Integer num : numbers) {\n        if (num < 0) {\n            numbers.remove(num);\n        }\n    }\n}",
      "expectedOutput": "List [1, -2, 3, -4, 5] becomes [1, 3, 5]",
      "actualOutput": "Exception: ConcurrentModificationException",
      "explanation": "You cannot modify a collection while iterating over it with a for-each loop. This throws ConcurrentModificationException. Use an Iterator with its remove() method, or iterate backwards with a traditional for loop, or use removeIf() method.",
      "fixedCode": "public void removeNegatives(ArrayList<Integer> numbers) {\n    numbers.removeIf(num -> num < 0);\n}",
      "isCompleted": false
    },
    {
      "id": 14,
      "title": "Static vs Instance Confusion",
      "language": "Java",
      "difficulty": "Hard",
      "category": "OOP",
      "description": "A static method trying to access instance variable fails to compile.",
      "brokenCode": "public class Calculator {\n    private int result = 0;\n    \n    public static void calculate() {\n        result = 10 + 5;\n    }\n}",
      "expectedOutput": "Should compile and set result to 15",
      "actualOutput": "Compilation error: non-static variable result cannot be referenced from a static context",
      "explanation": "Static methods belong to the class, not to any specific instance. They cannot access instance variables because there's no 'this' object. Either make the method non-static, or make the variable static (if appropriate for your design).",
      "fixedCode": "public class Calculator {\n    private int result = 0;\n    \n    public void calculate() {\n        result = 10 + 5;\n    }\n}",
      "isCompleted": false
    },
    {
      "id": 15,
      "title": "Uninitialized Variable in Condition",
      "language": "Java",
      "difficulty": "Medium",
      "category": "Conditionals",
      "description": "A method with conditional initialization doesn't compile.",
      "brokenCode": "public String checkScore(int score) {\n    String result;\n    if (score >= 90) {\n        result = \"A\";\n    } else if (score >= 80) {\n        result = \"B\";\n    }\n    return result;\n}",
      "expectedOutput": "Should compile and return grade",
      "actualOutput": "Compilation error: variable result might not have been initialized",
      "explanation": "Java requires local variables to be definitely initialized before use. If score is less than 80, result is never assigned a value, but we try to return it. The compiler detects this potential error. Always ensure all code paths initialize variables, or initialize with a default value.",
      "fixedCode": "public String checkScore(int score) {\n    String result = \"F\";\n    if (score >= 90) {\n        result = \"A\";\n    } else if (score >= 80) {\n        result = \"B\";\n    }\n    return result;\n}",
      "isCompleted": false
    }
  ],
  "hints": [
    {
      "bugId": 1,
      "level": 1,
      "text": "Look carefully at the loop condition. What number does it stop at?"
    },
    {
      "bugId": 1,
      "level": 2,
      "text": "The loop uses < instead of <=. Think about boundary conditions."
    },
    {
      "bugId": 1,
      "level": 3,
      "text": "Change the condition from 'i < 10' to 'i <= 10' to include 10."
    },
    {
      "bugId": 2,
      "level": 1,
      "text": "What happens when you call a method on a null object?"
    },
    {
      "bugId": 2,
      "level": 2,
      "text": "You need to check if the parameter is null before using it."
    },
    {
      "bugId": 2,
      "level": 3,
      "text": "Add an if statement to check 'if (name == null)' and return an empty string or default value."
    },
    {
      "bugId": 3,
      "level": 1,
      "text": "How does Java compare strings? Is == the right operator?"
    },
    {
      "bugId": 3,
      "level": 2,
      "text": "The == operator compares references, not values for objects."
    },
    {
      "bugId": 3,
      "level": 3,
      "text": "Use .equals() method instead of == to compare string content."
    },
    {
      "bugId": 4,
      "level": 1,
      "text": "What type of division is being performed here?"
    },
    {
      "bugId": 4,
      "level": 2,
      "text": "Integer division truncates the decimal part. The result needs to be a double."
    },
    {
      "bugId": 4,
      "level": 3,
      "text": "Change the divisor to 2.0 to make it a floating-point division."
    },
    {
      "bugId": 5,
      "level": 1,
      "text": "Check what variable is being compared in each if statement."
    },
    {
      "bugId": 5,
      "level": 2,
      "text": "The second if compares c with 'a' instead of the current maximum."
    },
    {
      "bugId": 5,
      "level": 3,
      "text": "Change 'if (c > a)' to 'if (c > max)' to compare with the current maximum."
    },
    {
      "bugId": 6,
      "level": 1,
      "text": "What happens when a switch case doesn't have a break statement?"
    },
    {
      "bugId": 6,
      "level": 2,
      "text": "Switch cases have fall-through behavior. Execution continues to the next case."
    },
    {
      "bugId": 6,
      "level": 3,
      "text": "Add 'break;' statements after each case to prevent fall-through."
    },
    {
      "bugId": 7,
      "level": 1,
      "text": "What are the valid index ranges for an ArrayList?"
    },
    {
      "bugId": 7,
      "level": 2,
      "text": "ArrayList indices go from 0 to size()-1, not 0 to size()."
    },
    {
      "bugId": 7,
      "level": 3,
      "text": "Change list.get(list.size()) to list.get(list.size() - 1)."
    },
    {
      "bugId": 8,
      "level": 1,
      "text": "Look at how the loop variable changes. Is it moving toward the end condition?"
    },
    {
      "bugId": 8,
      "level": 2,
      "text": "The loop increments i, but needs to decrement for a countdown."
    },
    {
      "bugId": 8,
      "level": 3,
      "text": "Change 'i++' to 'i--' in the loop statement."
    },
    {
      "bugId": 9,
      "level": 1,
      "text": "Is the instance variable being updated, or is something else happening?"
    },
    {
      "bugId": 9,
      "level": 2,
      "text": "A new local variable 'count' is declared, shadowing the instance variable."
    },
    {
      "bugId": 9,
      "level": 3,
      "text": "Remove 'int' from the increment method to update the instance variable instead of creating a new local one."
    },
    {
      "bugId": 10,
      "level": 1,
      "text": "What should the method return when the number is odd?"
    },
    {
      "bugId": 10,
      "level": 2,
      "text": "Both branches return true. The else case should return false."
    },
    {
      "bugId": 10,
      "level": 3,
      "text": "Change the second 'return true;' to 'return false;'."
    },
    {
      "bugId": 11,
      "level": 1,
      "text": "What is the index of the last element in an array?"
    },
    {
      "bugId": 11,
      "level": 2,
      "text": "Arrays are zero-indexed. The last element is at length-1, not length."
    },
    {
      "bugId": 11,
      "level": 3,
      "text": "Change arr[arr.length] to arr[arr.length - 1] in both places."
    },
    {
      "bugId": 12,
      "level": 1,
      "text": "Think about how tax should be applied to the price. Should it be additive or multiplicative?"
    },
    {
      "bugId": 12,
      "level": 2,
      "text": "The current formula adds the tax amount, but you want the final price including tax."
    },
    {
      "bugId": 12,
      "level": 3,
      "text": "Use the formula: price * (1 + tax / 100) to get the correct result."
    },
    {
      "bugId": 13,
      "level": 1,
      "text": "Can you modify a collection while iterating over it with a for-each loop?"
    },
    {
      "bugId": 13,
      "level": 2,
      "text": "Modifying a collection during iteration causes ConcurrentModificationException."
    },
    {
      "bugId": 13,
      "level": 3,
      "text": "Use the removeIf() method: numbers.removeIf(num -> num < 0);"
    },
    {
      "bugId": 14,
      "level": 1,
      "text": "Can static methods access instance variables?"
    },
    {
      "bugId": 14,
      "level": 2,
      "text": "Static methods belong to the class, not instances. They can't access instance variables."
    },
    {
      "bugId": 14,
      "level": 3,
      "text": "Remove the 'static' keyword from the calculate() method."
    },
    {
      "bugId": 15,
      "level": 1,
      "text": "What happens if the score is less than 80? Is 'result' assigned a value?"
    },
    {
      "bugId": 15,
      "level": 2,
      "text": "The variable might not be initialized in all code paths."
    },
    {
      "bugId": 15,
      "level": 3,
      "text": "Initialize 'result' with a default value like 'F' when declaring it."
    }
  ]
}
